spring:
  application:
    name: space-management

  profiles:
    active: dev  # Perfil por defecto

  jackson:
    serialization:
      write-dates-as-timestamps: false
    time-zone: UTC

server:
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

cors:
  allowed-origins:
    - http://localhost:4200
  allowed-methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allowed-headers:
    - "*"
  exposed-headers:
    - Authorization
  allow-credentials: true
  max-age: 3600

# JWT Configuration por defecto (puede ser sobrescrita por cada perfil)
jwt:
  secret: ${JWT_SECRET:mySecretKeyForEducationSpaceManagementSystemThatIsLongEnough}
  expiration: 86400000 # 24 hours in milliseconds

# ===== CONFIGURACIÓN DE ACTUATOR Y MÉTRICAS =====
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus,env,loggers
      base-path: /actuator
  endpoint:
    health:
      show-details: always
      show-components: always
      probes:
        enabled: true
    metrics:
      enabled: true
    prometheus:
      enabled: true
  metrics:
    enable:
      jvm: true
      process: true
      system: true
      tomcat: true
      logback: true
      http: true
    export:
      prometheus:
        enabled: true
    distribution:
      percentiles-histogram:
        http.server.requests: true
      slo:
        http.server.requests: 50ms,100ms,200ms,500ms,1s,2s
    tags:
      application: ${spring.application.name}
      environment: ${spring.profiles.active}
  info:
    env:
      enabled: true
    java:
      enabled: true
    os:
      enabled: true

# Información de la aplicación para el endpoint /actuator/info
info:
  app:
    name: Space Management System
    description: System to control teaching space usage
    version: 1.0.0
    encoding: ${project.build.sourceEncoding}
    java:
      version: ${java.version}